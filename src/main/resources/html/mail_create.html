<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="renderer" content="webkit"/>
	<title>邮件平台</title>
	<link rel="stylesheet" href="./common/css/reset.css">
  <link rel="stylesheet" href="./common/css/iconfont.css">
  <link rel="stylesheet" href="./common/css/base.css">
  <link rel="stylesheet" href="./common/js/page/page.css">
  <link rel="stylesheet" href="./common/js/wangEditor/dist/css/wangEditor.min.css">
  <link rel="stylesheet" href="./common/css/layout.css">
  <link rel="stylesheet" href="./common/css/mail.css">
  <script type="text/javascript" src="./common/js/common.js"></script>
  <script type="text/javascript" src="./api/config.js"></script>
  <script type="text/javascript" src="./common/js/jquery-1.10.1.min.js"></script>
  <script type="text/javascript" src="./common/js/ajaxfileupload.js"></script>
  <script type="text/javascript" src="./common/js/datepicker/WdatePicker.js"></script>
</head>
<body>	
  <div class="header-box"></div>
  <div class="navigation-box"></div>
  <script type="text/javascript">
    $('.header-box').load('./include/header.html')
    $('.navigation-box').load('./include/navigation.html')
  </script>
   
  <div class="wrapper">
    <div class="container">  
      <div class="main-content main-full">
        <div class="toolbar">
          创建任务
        </div>
        <ul class="item-mail">
          <li>
            <label>历史任务</label>
            <select id="history-task" onchange="selectItem(this)"><option value="">请选择</option></select>
          </li>
          <li style="display: none">
            <label>活动ID<span class="must">*</span></label>
            <input type="text" value="" name="campaignId"/>
          </li>
          <li>
            <label>任务名称<span class="must">*</span></label>
            <input type="text" value="" name="name" />
          </li>
          <li>
            <label>发件人姓名<span class="must">*</span></label>
            <input type="text" value="" name="senderName" /><span class="tip">一般是公司名、个人姓名、网站名、品牌名等，不超过20字</span>
          </li>
          <li>
            <label>发件人邮址<span class="must">*</span></label>
            <input type="text" value="" name="senderAddress" /><span class="tip">支持企业邮箱或个人邮箱</span>
          </li>
          <li>
            <label>回复邮址<span class="must">*</span></label>
            <input type="text" value="" name="replyAddress" /><span class="tip">回复邮件时自动发送至该邮箱，支持企业或个人邮箱</span>
          </li>
          <li>
            <label>邮件主题<span class="must">*</span></label>
            <input type="text" value="" name="subject" /><span class="tip">支持汉字、字母、数字与句号、逗号、引号、下划线、感叹号常用符号</span>
          </li>
          <li>
            <label>数据源<span class="must">*</span></label>
            <select name="dsType" onchange="selectSource(this)">
              <option value="">请选择</option>
              <option value="0">本地上传</option>
              <option value="1">外部数据源</option>
            </select>
            <div class="item-left">
              <a class="upload-file button" id="mailUpload">本地上传  
                <input type="file" name="sourceFile" class="upload-btn" id="source-file" onchange="uploadFile(this, 'source-file')" />
              </a>
              <select id="configField" class="configField" name="dsId" onchange="selectConfigField(this)">
                <option value="">请选择</option>
              </select>
            </div>
          </li>
          <li>
            <label>邮件字段<span class="must">*</span></label>
            <select name="mailField" id="mailField">
              <option value="">请选择</option>
            </select>
          </li>
          <li>
            <label>邮件类型<span class="must">*</span></label>
            <select name="mailType">
              <option value="">请选择</option>
              <option value="0">标准类型</option>
              <option value="1">个性邮件</option>
            </select>
            <div class="item-left"></div>
          </li>
          <li>
            <label>邮件内容<span class="must">*</span></label>
            <input type="button" value="本地上传" class="button" />
            <input type="button" value="远程获取" class="button"/>
            <div class="upload-box">
              <div class="upload-editor" style="width: 800px;">
                <textarea id="formnote" name="content"></textarea>
              </div>
              <span class="upload-file">
                添加附件
                <input type="file" value="" id="attachment-file" name="file" class="upload-btn" onchange="uploadFile(this, 'attachment-file')" />
              </span>
              <div class="attachment-box">
                
              </div>
            </div>
            <div>
          </li>
          <li>
            <label>发送选项</label>
            <div class="send-info">
              <p id="webpower-transmission">
                <label><input type="checkbox" name="scheduled" />定时发送</label>
                <input type="text" class="Wdate time" name="sendTime" id="sendTime" onclick="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'});"/>
              </p>
              <p>
                <label><input type="checkbox" name="unsubscribe" />尾部添加退订按钮<select id="langSelect" name="langSelect"><option value="cn">中文</option><option value="en">英文</option></select></label>
              </p>
            </div>
          </li>
        </ul>
        <div class="submit-box">
          <input type="button" class="button" id="saveTask" value="保存" />
          <input type="button" class="button" value="关闭" onclick="gotoPage('index.html')" />
        </div>
      </div>

    </div>
  </div>
  <script type="text/javascript" src="./common/js/layer/layer.js"></script>
  <script type="text/javascript" src="./common/js/wangEditor/dist/js/wangEditor.min.js"></script>
  <script type="text/javascript">
    var editor = new wangEditor('formnote');
    editor.config.uploadImgUrl = '/form/upstream.action';
    editor.create();
  </script>
  <script type="text/javascript" src="./api/mail-create.js"></script>
</body>
</html>